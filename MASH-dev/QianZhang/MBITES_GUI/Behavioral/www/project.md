## What is MASH? What problem is it trying to solve? 

Effective translation from evidence into policy advice must confront several core challenges. On the one hand, policy advice should be based on analysis of what we know.  On the other hand, analysis for policy addresses a different kind of question: not "what do we know?" but "what should we do?” Policy decisions move on their own timelines, and they are often made without the kind of sound advice that is based on careful analysis. Engaging in the process of making policy is best done in a timely way, regardless of how much evidence exists, so analysts are often required to answer new questions very quickly. Analysis generally relies on some sort of quantitative model to analyze data that describes the state of the world or the nature of the problem, but there is almost always a great deal of uncertainty. Data describing the health of human populations and the prevalence of various diseases is uneven in space and time, and this spatio-temporal uncertainty about the distribution of diseases among populations must be accounted for. Translation from evidence about the state of the world to a set of policy often involves some sort of model, and there is usually some uncertainty about the mechanisms and and the biological processes and control.  Compared with evidence describing the distribution of disease and its causes, there is generally much less evidence about the effectiveness of various medical and public health interventions. A core general problem for translating from evidence to policy is thus how to take all the uncertainty into account in an appropriate way. A critical appraisal of the grand process of the translation from science to policy for human health - starting with metrology and metrics, through study design, analysis and interpretation of data, model building and synthesis, analysis, policy advice, implementation, monitoring and surveillance, and policy evaluation - highlighted the need for a tool that could stitch them all together seamlessly. What is the most useful or most urgently needed information? What models tend to give robust policy advice?  What are the relevant details for making health policy? Attempts to grapple with these questions motivated development of the software package we are calling MASH (Modular Analysis & Simulation for Health). 

MASH started as a tool for malaria, but it's design is capable of and being developed for simulation and analysis to address a wide range of problems in human health. It was designed to be a flexible and extensible tool for simulating human health and disease  in arbitrary detail to study and tame various sorts of complexity. Einstein offered the generic advice that models should be as simple as possible, but no simpler. The advice came with no practical advice for how to build such a model. What is often done is to build models ad hoc. What is needed to address the general problem is a way of building suites of models of varying levels of complexity. An exquisitely detailed model is required to do this, but these exquisitely detailed and complex models are not the point of MASH. The point is to conduct in silico  studies to identify the simplest model. The point is to facilitate development of theory for public health.  

## MASH Design and Basic Concepts

To serve its goals, MASH would need to implement true plug-and-play modularity to facilitate hierarchical analysis and simulation of various models and the pieces that comprise them. Developing the initial prototype involved defining the independent parts of a model that would interact, each one hereafter called a COMPONENT. Each variant of the algorithm in each COMPONENT is called a Module. The design phase called for development of at least one exquisitely complicated and one dead simple Module for each COMPONENT. The software design problem for MASH was how to link COMPONENTs regardless of the complexity of the particular Module. To be truly modular, it was necessary to design an application program interface (API) for interacting COMPONENTs.  To be truly plug-n-play, it should be possible to run any Module in stand-alone mode, where any require inputs are passed as a parameter from a minimal version of the related COMPONENT. It should thus be possible to analyze any component of the system in isolation, so the design principles called for development of complimentary logging, visualization, and analysis programs for each module. To meet all these requirements, the software design problem was solved by requiring components to interact through Event Queues.

As MASH development proceeded, it became increasingly clear that the core component of the model was an object representing health states and health events for each individual HUMAN. MASH is thus an individual-based simulation model for humans, even though other components of the model are not required to be individual based. It should be possible, however, to develop homologous models of interacting populations that are not individual-based. 

Theory linking individuals and populations in MASH required development of the concept of a LANDSCAPE. On the one hand, MASH facilitates development of microsimulation models where interactions occur on point sets.  These point-set based simulations are what MASH calls Micro. The complement to Micro is Macro, a LANDSCAPE that makes location coarse, to the level of a patch of space. Macro is the structure for implementing traditional patch-based metapopulation models. One question that MASH is thus capable of addressing is how different ways of defining a "population” affect the conclusions of a simulation study.  What are some good ways of defining populations for models that examine sets of interacting populations?  In MASH, tools are being developed for model-model comparision to address this question. We call this activity landscape analysis. 

Running a model in MASH requires iteratively updating HUMANS, by running through the eventQ and implementing all those health events, and then cycling through each one of the interacting COMPONENTs. For some kinds of processes, most notably infectious diseases, there are critically important contingent events that affect how far in advance each COMPONENT can be updated.  For example, when one person becomes infectious, it affects the risk of infection in susceptible individuals nearby. Similar problems arise for the interactions among adult and immature populations of mosquitoes that transmit pathogens. A COMPONENT can only be updated over a time interval that would not be affected by a contingent event in another COMPONENT. The maximum time interval for each interaction must be identified by giving careful thought to these contingencies. The interval for updating interacting components must be shorter than this interval, that MASH calls the Temporal Window for Indifference to Contingent Events (TWICE). 

*-Professor David L Smith, Institute for Health Metrics & Evaluation, University of Washington*
